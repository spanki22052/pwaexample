{"ast":null,"code":"var _jsxFileName = \"/Users/tigrotigro/Projects/Hakaton/PWA example/src/components/PhotoUploader.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useState, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PhotoUploader = ({\n  onPhotoUpload\n}) => {\n  _s();\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [isCapturing, setIsCapturing] = useState(false);\n  const fileInputRef = useRef(null);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const streamRef = useRef(null);\n  const handleFileSelect = useCallback(async files => {\n    if (!files || files.length === 0) return;\n    setIsUploading(true);\n    try {\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n\n        // Проверяем, что это изображение\n        if (!file.type.startsWith(\"image/\")) {\n          alert(`Файл ${file.name} не является изображением`);\n          continue;\n        }\n\n        // Проверяем размер файла (максимум 10MB)\n        if (file.size > 10 * 1024 * 1024) {\n          alert(`Файл ${file.name} слишком большой (максимум 10MB)`);\n          continue;\n        }\n        await onPhotoUpload(file);\n      }\n    } catch (error) {\n      console.error(\"Ошибка обработки файлов:\", error);\n      alert(\"Произошла ошибка при загрузке файлов\");\n    } finally {\n      setIsUploading(false);\n    }\n  }, [onPhotoUpload]);\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    setIsDragOver(false);\n    const files = Array.from(e.dataTransfer.files);\n    handleFileSelect(files);\n  }, [handleFileSelect]);\n  const handleDragOver = useCallback(e => {\n    e.preventDefault();\n    setIsDragOver(true);\n  }, []);\n  const handleDragLeave = useCallback(e => {\n    e.preventDefault();\n    setIsDragOver(false);\n  }, []);\n  const handleFileInputChange = useCallback(e => {\n    const files = Array.from(e.target.files);\n    handleFileSelect(files);\n    // Сбрасываем input для возможности повторного выбора того же файла\n    e.target.value = \"\";\n  }, [handleFileSelect]);\n  const handleButtonClick = useCallback(() => {\n    var _fileInputRef$current;\n    (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n  }, []);\n  const startCamera = useCallback(async () => {\n    try {\n      setIsCapturing(true);\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          facingMode: \"environment\",\n          // Используем заднюю камеру\n          width: {\n            ideal: 1280\n          },\n          height: {\n            ideal: 720\n          }\n        }\n      });\n      streamRef.current = stream;\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n    } catch (error) {\n      console.error(\"Ошибка доступа к камере:\", error);\n      alert(\"Не удалось получить доступ к камере. Проверьте разрешения.\");\n      setIsCapturing(false);\n    }\n  }, []);\n  const stopCamera = useCallback(() => {\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n    }\n    setIsCapturing(false);\n  }, []);\n  const capturePhoto = useCallback(async () => {\n    if (!videoRef.current || !canvasRef.current) return;\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n\n    // Устанавливаем размеры canvas как у видео\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n\n    // Рисуем кадр из видео на canvas\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n    // Конвертируем canvas в Blob\n    return new Promise(resolve => {\n      canvas.toBlob(blob => {\n        if (blob) {\n          const file = new File([blob], `photo_${Date.now()}.jpg`, {\n            type: \"image/jpeg\"\n          });\n          resolve(file);\n        } else {\n          resolve(null);\n        }\n      }, \"image/jpeg\", 0.8);\n    });\n  }, []);\n  const handleCapture = useCallback(async () => {\n    try {\n      const file = await capturePhoto();\n      if (file) {\n        await handleFileSelect([file]);\n        stopCamera();\n      }\n    } catch (error) {\n      console.error(\"Ошибка съемки фото:\", error);\n      alert(\"Ошибка при съемке фото\");\n    }\n  }, [capturePhoto, handleFileSelect, stopCamera]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !isCapturing ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `upload-area ${isDragOver ? \"dragover\" : \"\"}`,\n      onDrop: handleDrop,\n      onDragOver: handleDragOver,\n      onDragLeave: handleDragLeave,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: fileInputRef,\n        type: \"file\",\n        multiple: true,\n        accept: \"image/*\",\n        onChange: handleFileInputChange,\n        className: \"upload-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uD83D\\uDCF7 \\u041F\\u0435\\u0440\\u0435\\u0442\\u0430\\u0449\\u0438\\u0442\\u0435 \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u0438 \\u0441\\u044E\\u0434\\u0430 \\u0438\\u043B\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            justifyContent: 'center',\n            flexWrap: 'wrap'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"upload-button\",\n            onClick: handleButtonClick,\n            disabled: isUploading,\n            children: isUploading ? \"Загрузка...\" : \"Выберите файлы\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"upload-button\",\n            onClick: startCamera,\n            disabled: isUploading,\n            style: {\n              backgroundColor: '#28a745'\n            },\n            children: \"\\uD83D\\uDCF8 \\u0421\\u0434\\u0435\\u043B\\u0430\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: \"10px\",\n          fontSize: \"14px\",\n          color: \"#666\"\n        },\n        children: \"\\u041F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u0438\\u0432\\u0430\\u044E\\u0442\\u0441\\u044F \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u044B: JPG, PNG, GIF, WebP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"camera-container\",\n      style: {\n        background: 'white',\n        borderRadius: '10px',\n        padding: '20px',\n        textAlign: 'center',\n        boxShadow: '0 2px 10px rgba(0,0,0,0.1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCF8 \\u041A\\u0430\\u043C\\u0435\\u0440\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'relative',\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          autoPlay: true,\n          playsInline: true,\n          style: {\n            width: '100%',\n            maxWidth: '400px',\n            height: 'auto',\n            borderRadius: '10px',\n            transform: 'scaleX(-1)' // Зеркальное отображение\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          style: {\n            display: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '10px',\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"upload-button\",\n          onClick: handleCapture,\n          style: {\n            backgroundColor: '#dc3545'\n          },\n          children: \"\\uD83D\\uDCF7 \\u0421\\u0434\\u0435\\u043B\\u0430\\u0442\\u044C \\u0441\\u043D\\u0438\\u043C\\u043E\\u043A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"upload-button\",\n          onClick: stopCamera,\n          style: {\n            backgroundColor: '#6c757d'\n          },\n          children: \"\\u274C \\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n};\n_s(PhotoUploader, \"G50aFlw78410QIz96hQHQvw5XtE=\");\n_c = PhotoUploader;\nexport default PhotoUploader;\nvar _c;\n$RefreshReg$(_c, \"PhotoUploader\");","map":{"version":3,"names":["React","useCallback","useState","useRef","jsxDEV","_jsxDEV","PhotoUploader","onPhotoUpload","_s","isDragOver","setIsDragOver","isUploading","setIsUploading","isCapturing","setIsCapturing","fileInputRef","videoRef","canvasRef","streamRef","handleFileSelect","files","length","i","file","type","startsWith","alert","name","size","error","console","handleDrop","e","preventDefault","Array","from","dataTransfer","handleDragOver","handleDragLeave","handleFileInputChange","target","value","handleButtonClick","_fileInputRef$current","current","click","startCamera","stream","navigator","mediaDevices","getUserMedia","video","facingMode","width","ideal","height","srcObject","stopCamera","getTracks","forEach","track","stop","capturePhoto","canvas","ctx","getContext","videoWidth","videoHeight","drawImage","Promise","resolve","toBlob","blob","File","Date","now","handleCapture","children","className","onDrop","onDragOver","onDragLeave","ref","multiple","accept","onChange","fileName","_jsxFileName","lineNumber","columnNumber","style","display","gap","justifyContent","flexWrap","onClick","disabled","backgroundColor","marginTop","fontSize","color","background","borderRadius","padding","textAlign","boxShadow","position","marginBottom","autoPlay","playsInline","maxWidth","transform","_c","$RefreshReg$"],"sources":["/Users/tigrotigro/Projects/Hakaton/PWA example/src/components/PhotoUploader.js"],"sourcesContent":["import React, { useCallback, useState, useRef } from \"react\";\n\nconst PhotoUploader = ({ onPhotoUpload }) => {\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [isCapturing, setIsCapturing] = useState(false);\n  const fileInputRef = useRef(null);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const streamRef = useRef(null);\n\n  const handleFileSelect = useCallback(\n    async (files) => {\n      if (!files || files.length === 0) return;\n\n      setIsUploading(true);\n      try {\n        for (let i = 0; i < files.length; i++) {\n          const file = files[i];\n\n          // Проверяем, что это изображение\n          if (!file.type.startsWith(\"image/\")) {\n            alert(`Файл ${file.name} не является изображением`);\n            continue;\n          }\n\n          // Проверяем размер файла (максимум 10MB)\n          if (file.size > 10 * 1024 * 1024) {\n            alert(`Файл ${file.name} слишком большой (максимум 10MB)`);\n            continue;\n          }\n\n          await onPhotoUpload(file);\n        }\n      } catch (error) {\n        console.error(\"Ошибка обработки файлов:\", error);\n        alert(\"Произошла ошибка при загрузке файлов\");\n      } finally {\n        setIsUploading(false);\n      }\n    },\n    [onPhotoUpload]\n  );\n\n  const handleDrop = useCallback(\n    (e) => {\n      e.preventDefault();\n      setIsDragOver(false);\n      const files = Array.from(e.dataTransfer.files);\n      handleFileSelect(files);\n    },\n    [handleFileSelect]\n  );\n\n  const handleDragOver = useCallback((e) => {\n    e.preventDefault();\n    setIsDragOver(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e) => {\n    e.preventDefault();\n    setIsDragOver(false);\n  }, []);\n\n  const handleFileInputChange = useCallback(\n    (e) => {\n      const files = Array.from(e.target.files);\n      handleFileSelect(files);\n      // Сбрасываем input для возможности повторного выбора того же файла\n      e.target.value = \"\";\n    },\n    [handleFileSelect]\n  );\n\n  const handleButtonClick = useCallback(() => {\n    fileInputRef.current?.click();\n  }, []);\n\n  const startCamera = useCallback(async () => {\n    try {\n      setIsCapturing(true);\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          facingMode: \"environment\", // Используем заднюю камеру\n          width: { ideal: 1280 },\n          height: { ideal: 720 },\n        },\n      });\n\n      streamRef.current = stream;\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n    } catch (error) {\n      console.error(\"Ошибка доступа к камере:\", error);\n      alert(\"Не удалось получить доступ к камере. Проверьте разрешения.\");\n      setIsCapturing(false);\n    }\n  }, []);\n\n  const stopCamera = useCallback(() => {\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach((track) => track.stop());\n      streamRef.current = null;\n    }\n    setIsCapturing(false);\n  }, []);\n\n  const capturePhoto = useCallback(async () => {\n    if (!videoRef.current || !canvasRef.current) return;\n\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n\n    // Устанавливаем размеры canvas как у видео\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n\n    // Рисуем кадр из видео на canvas\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n    // Конвертируем canvas в Blob\n    return new Promise((resolve) => {\n      canvas.toBlob(\n        (blob) => {\n          if (blob) {\n            const file = new File([blob], `photo_${Date.now()}.jpg`, {\n              type: \"image/jpeg\",\n            });\n            resolve(file);\n          } else {\n            resolve(null);\n          }\n        },\n        \"image/jpeg\",\n        0.8\n      );\n    });\n  }, []);\n\n  const handleCapture = useCallback(async () => {\n    try {\n      const file = await capturePhoto();\n      if (file) {\n        await handleFileSelect([file]);\n        stopCamera();\n      }\n    } catch (error) {\n      console.error(\"Ошибка съемки фото:\", error);\n      alert(\"Ошибка при съемке фото\");\n    }\n  }, [capturePhoto, handleFileSelect, stopCamera]);\n\n  return (\n    <div>\n      {!isCapturing ? (\n        <div\n          className={`upload-area ${isDragOver ? \"dragover\" : \"\"}`}\n          onDrop={handleDrop}\n          onDragOver={handleDragOver}\n          onDragLeave={handleDragLeave}\n        >\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            multiple\n            accept=\"image/*\"\n            onChange={handleFileInputChange}\n            className=\"upload-input\"\n          />\n\n          <div>\n            <p>📷 Перетащите фотографии сюда или</p>\n            <div style={{ display: 'flex', gap: '10px', justifyContent: 'center', flexWrap: 'wrap' }}>\n              <button\n                className=\"upload-button\"\n                onClick={handleButtonClick}\n                disabled={isUploading}\n              >\n                {isUploading ? \"Загрузка...\" : \"Выберите файлы\"}\n              </button>\n              <button\n                className=\"upload-button\"\n                onClick={startCamera}\n                disabled={isUploading}\n                style={{ backgroundColor: '#28a745' }}\n              >\n                📸 Сделать фото\n              </button>\n            </div>\n          </div>\n\n          <p style={{ marginTop: \"10px\", fontSize: \"14px\", color: \"#666\" }}>\n            Поддерживаются форматы: JPG, PNG, GIF, WebP\n          </p>\n        </div>\n      ) : (\n        <div className=\"camera-container\" style={{ \n          background: 'white', \n          borderRadius: '10px', \n          padding: '20px', \n          textAlign: 'center',\n          boxShadow: '0 2px 10px rgba(0,0,0,0.1)'\n        }}>\n          <h3>📸 Камера</h3>\n          <div style={{ position: 'relative', marginBottom: '20px' }}>\n            <video\n              ref={videoRef}\n              autoPlay\n              playsInline\n              style={{ \n                width: '100%', \n                maxWidth: '400px', \n                height: 'auto',\n                borderRadius: '10px',\n                transform: 'scaleX(-1)' // Зеркальное отображение\n              }}\n            />\n            <canvas\n              ref={canvasRef}\n              style={{ display: 'none' }}\n            />\n          </div>\n          <div style={{ display: 'flex', gap: '10px', justifyContent: 'center' }}>\n            <button\n              className=\"upload-button\"\n              onClick={handleCapture}\n              style={{ backgroundColor: '#dc3545' }}\n            >\n              📷 Сделать снимок\n            </button>\n            <button\n              className=\"upload-button\"\n              onClick={stopCamera}\n              style={{ backgroundColor: '#6c757d' }}\n            >\n              ❌ Отмена\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PhotoUploader;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7D,MAAMC,aAAa,GAAGA,CAAC;EAAEC;AAAc,CAAC,KAAK;EAAAC,EAAA;EAC3C,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACS,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACW,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAMa,YAAY,GAAGZ,MAAM,CAAC,IAAI,CAAC;EACjC,MAAMa,QAAQ,GAAGb,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMc,SAAS,GAAGd,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMe,SAAS,GAAGf,MAAM,CAAC,IAAI,CAAC;EAE9B,MAAMgB,gBAAgB,GAAGlB,WAAW,CAClC,MAAOmB,KAAK,IAAK;IACf,IAAI,CAACA,KAAK,IAAIA,KAAK,CAACC,MAAM,KAAK,CAAC,EAAE;IAElCT,cAAc,CAAC,IAAI,CAAC;IACpB,IAAI;MACF,KAAK,IAAIU,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,KAAK,CAACC,MAAM,EAAEC,CAAC,EAAE,EAAE;QACrC,MAAMC,IAAI,GAAGH,KAAK,CAACE,CAAC,CAAC;;QAErB;QACA,IAAI,CAACC,IAAI,CAACC,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,EAAE;UACnCC,KAAK,CAAC,QAAQH,IAAI,CAACI,IAAI,2BAA2B,CAAC;UACnD;QACF;;QAEA;QACA,IAAIJ,IAAI,CAACK,IAAI,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,EAAE;UAChCF,KAAK,CAAC,QAAQH,IAAI,CAACI,IAAI,kCAAkC,CAAC;UAC1D;QACF;QAEA,MAAMpB,aAAa,CAACgB,IAAI,CAAC;MAC3B;IACF,CAAC,CAAC,OAAOM,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDH,KAAK,CAAC,sCAAsC,CAAC;IAC/C,CAAC,SAAS;MACRd,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC,EACD,CAACL,aAAa,CAChB,CAAC;EAED,MAAMwB,UAAU,GAAG9B,WAAW,CAC3B+B,CAAC,IAAK;IACLA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBvB,aAAa,CAAC,KAAK,CAAC;IACpB,MAAMU,KAAK,GAAGc,KAAK,CAACC,IAAI,CAACH,CAAC,CAACI,YAAY,CAAChB,KAAK,CAAC;IAC9CD,gBAAgB,CAACC,KAAK,CAAC;EACzB,CAAC,EACD,CAACD,gBAAgB,CACnB,CAAC;EAED,MAAMkB,cAAc,GAAGpC,WAAW,CAAE+B,CAAC,IAAK;IACxCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBvB,aAAa,CAAC,IAAI,CAAC;EACrB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM4B,eAAe,GAAGrC,WAAW,CAAE+B,CAAC,IAAK;IACzCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBvB,aAAa,CAAC,KAAK,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM6B,qBAAqB,GAAGtC,WAAW,CACtC+B,CAAC,IAAK;IACL,MAAMZ,KAAK,GAAGc,KAAK,CAACC,IAAI,CAACH,CAAC,CAACQ,MAAM,CAACpB,KAAK,CAAC;IACxCD,gBAAgB,CAACC,KAAK,CAAC;IACvB;IACAY,CAAC,CAACQ,MAAM,CAACC,KAAK,GAAG,EAAE;EACrB,CAAC,EACD,CAACtB,gBAAgB,CACnB,CAAC;EAED,MAAMuB,iBAAiB,GAAGzC,WAAW,CAAC,MAAM;IAAA,IAAA0C,qBAAA;IAC1C,CAAAA,qBAAA,GAAA5B,YAAY,CAAC6B,OAAO,cAAAD,qBAAA,uBAApBA,qBAAA,CAAsBE,KAAK,CAAC,CAAC;EAC/B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,WAAW,GAAG7C,WAAW,CAAC,YAAY;IAC1C,IAAI;MACFa,cAAc,CAAC,IAAI,CAAC;MACpB,MAAMiC,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;QACvDC,KAAK,EAAE;UACLC,UAAU,EAAE,aAAa;UAAE;UAC3BC,KAAK,EAAE;YAAEC,KAAK,EAAE;UAAK,CAAC;UACtBC,MAAM,EAAE;YAAED,KAAK,EAAE;UAAI;QACvB;MACF,CAAC,CAAC;MAEFpC,SAAS,CAAC0B,OAAO,GAAGG,MAAM;MAC1B,IAAI/B,QAAQ,CAAC4B,OAAO,EAAE;QACpB5B,QAAQ,CAAC4B,OAAO,CAACY,SAAS,GAAGT,MAAM;MACrC;IACF,CAAC,CAAC,OAAOlB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDH,KAAK,CAAC,4DAA4D,CAAC;MACnEZ,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM2C,UAAU,GAAGxD,WAAW,CAAC,MAAM;IACnC,IAAIiB,SAAS,CAAC0B,OAAO,EAAE;MACrB1B,SAAS,CAAC0B,OAAO,CAACc,SAAS,CAAC,CAAC,CAACC,OAAO,CAAEC,KAAK,IAAKA,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC;MAC9D3C,SAAS,CAAC0B,OAAO,GAAG,IAAI;IAC1B;IACA9B,cAAc,CAAC,KAAK,CAAC;EACvB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMgD,YAAY,GAAG7D,WAAW,CAAC,YAAY;IAC3C,IAAI,CAACe,QAAQ,CAAC4B,OAAO,IAAI,CAAC3B,SAAS,CAAC2B,OAAO,EAAE;IAE7C,MAAMO,KAAK,GAAGnC,QAAQ,CAAC4B,OAAO;IAC9B,MAAMmB,MAAM,GAAG9C,SAAS,CAAC2B,OAAO;IAChC,MAAMoB,GAAG,GAAGD,MAAM,CAACE,UAAU,CAAC,IAAI,CAAC;;IAEnC;IACAF,MAAM,CAACV,KAAK,GAAGF,KAAK,CAACe,UAAU;IAC/BH,MAAM,CAACR,MAAM,GAAGJ,KAAK,CAACgB,WAAW;;IAEjC;IACAH,GAAG,CAACI,SAAS,CAACjB,KAAK,EAAE,CAAC,EAAE,CAAC,EAAEY,MAAM,CAACV,KAAK,EAAEU,MAAM,CAACR,MAAM,CAAC;;IAEvD;IACA,OAAO,IAAIc,OAAO,CAAEC,OAAO,IAAK;MAC9BP,MAAM,CAACQ,MAAM,CACVC,IAAI,IAAK;QACR,IAAIA,IAAI,EAAE;UACR,MAAMjD,IAAI,GAAG,IAAIkD,IAAI,CAAC,CAACD,IAAI,CAAC,EAAE,SAASE,IAAI,CAACC,GAAG,CAAC,CAAC,MAAM,EAAE;YACvDnD,IAAI,EAAE;UACR,CAAC,CAAC;UACF8C,OAAO,CAAC/C,IAAI,CAAC;QACf,CAAC,MAAM;UACL+C,OAAO,CAAC,IAAI,CAAC;QACf;MACF,CAAC,EACD,YAAY,EACZ,GACF,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMM,aAAa,GAAG3E,WAAW,CAAC,YAAY;IAC5C,IAAI;MACF,MAAMsB,IAAI,GAAG,MAAMuC,YAAY,CAAC,CAAC;MACjC,IAAIvC,IAAI,EAAE;QACR,MAAMJ,gBAAgB,CAAC,CAACI,IAAI,CAAC,CAAC;QAC9BkC,UAAU,CAAC,CAAC;MACd;IACF,CAAC,CAAC,OAAO5B,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3CH,KAAK,CAAC,wBAAwB,CAAC;IACjC;EACF,CAAC,EAAE,CAACoC,YAAY,EAAE3C,gBAAgB,EAAEsC,UAAU,CAAC,CAAC;EAEhD,oBACEpD,OAAA;IAAAwE,QAAA,EACG,CAAChE,WAAW,gBACXR,OAAA;MACEyE,SAAS,EAAE,eAAerE,UAAU,GAAG,UAAU,GAAG,EAAE,EAAG;MACzDsE,MAAM,EAAEhD,UAAW;MACnBiD,UAAU,EAAE3C,cAAe;MAC3B4C,WAAW,EAAE3C,eAAgB;MAAAuC,QAAA,gBAE7BxE,OAAA;QACE6E,GAAG,EAAEnE,YAAa;QAClBS,IAAI,EAAC,MAAM;QACX2D,QAAQ;QACRC,MAAM,EAAC,SAAS;QAChBC,QAAQ,EAAE9C,qBAAsB;QAChCuC,SAAS,EAAC;MAAc;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CAAC,eAEFpF,OAAA;QAAAwE,QAAA,gBACExE,OAAA;UAAAwE,QAAA,EAAG;QAAiC;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACxCpF,OAAA;UAAKqF,KAAK,EAAE;YAAEC,OAAO,EAAE,MAAM;YAAEC,GAAG,EAAE,MAAM;YAAEC,cAAc,EAAE,QAAQ;YAAEC,QAAQ,EAAE;UAAO,CAAE;UAAAjB,QAAA,gBACvFxE,OAAA;YACEyE,SAAS,EAAC,eAAe;YACzBiB,OAAO,EAAErD,iBAAkB;YAC3BsD,QAAQ,EAAErF,WAAY;YAAAkE,QAAA,EAErBlE,WAAW,GAAG,aAAa,GAAG;UAAgB;YAAA2E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzC,CAAC,eACTpF,OAAA;YACEyE,SAAS,EAAC,eAAe;YACzBiB,OAAO,EAAEjD,WAAY;YACrBkD,QAAQ,EAAErF,WAAY;YACtB+E,KAAK,EAAE;cAAEO,eAAe,EAAE;YAAU,CAAE;YAAApB,QAAA,EACvC;UAED;YAAAS,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENpF,OAAA;QAAGqF,KAAK,EAAE;UAAEQ,SAAS,EAAE,MAAM;UAAEC,QAAQ,EAAE,MAAM;UAAEC,KAAK,EAAE;QAAO,CAAE;QAAAvB,QAAA,EAAC;MAElE;QAAAS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,gBAENpF,OAAA;MAAKyE,SAAS,EAAC,kBAAkB;MAACY,KAAK,EAAE;QACvCW,UAAU,EAAE,OAAO;QACnBC,YAAY,EAAE,MAAM;QACpBC,OAAO,EAAE,MAAM;QACfC,SAAS,EAAE,QAAQ;QACnBC,SAAS,EAAE;MACb,CAAE;MAAA5B,QAAA,gBACAxE,OAAA;QAAAwE,QAAA,EAAI;MAAS;QAAAS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClBpF,OAAA;QAAKqF,KAAK,EAAE;UAAEgB,QAAQ,EAAE,UAAU;UAAEC,YAAY,EAAE;QAAO,CAAE;QAAA9B,QAAA,gBACzDxE,OAAA;UACE6E,GAAG,EAAElE,QAAS;UACd4F,QAAQ;UACRC,WAAW;UACXnB,KAAK,EAAE;YACLrC,KAAK,EAAE,MAAM;YACbyD,QAAQ,EAAE,OAAO;YACjBvD,MAAM,EAAE,MAAM;YACd+C,YAAY,EAAE,MAAM;YACpBS,SAAS,EAAE,YAAY,CAAC;UAC1B;QAAE;UAAAzB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACFpF,OAAA;UACE6E,GAAG,EAAEjE,SAAU;UACfyE,KAAK,EAAE;YAAEC,OAAO,EAAE;UAAO;QAAE;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNpF,OAAA;QAAKqF,KAAK,EAAE;UAAEC,OAAO,EAAE,MAAM;UAAEC,GAAG,EAAE,MAAM;UAAEC,cAAc,EAAE;QAAS,CAAE;QAAAhB,QAAA,gBACrExE,OAAA;UACEyE,SAAS,EAAC,eAAe;UACzBiB,OAAO,EAAEnB,aAAc;UACvBc,KAAK,EAAE;YAAEO,eAAe,EAAE;UAAU,CAAE;UAAApB,QAAA,EACvC;QAED;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTpF,OAAA;UACEyE,SAAS,EAAC,eAAe;UACzBiB,OAAO,EAAEtC,UAAW;UACpBiC,KAAK,EAAE;YAAEO,eAAe,EAAE;UAAU,CAAE;UAAApB,QAAA,EACvC;QAED;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EACN;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACjF,EAAA,CAlPIF,aAAa;AAAA0G,EAAA,GAAb1G,aAAa;AAoPnB,eAAeA,aAAa;AAAC,IAAA0G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}