{"ast":null,"code":"import _objectSpread from\"/Users/tigrotigro/Projects/Hakaton/pwaexample/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ PWA\n/**\n * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É Permissions API\n */export const isPermissionsAPISupported=()=>{return\"permissions\"in navigator;};/**\n * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É getUserMedia (–∫–∞–º–µ—Ä–∞/–º–∏–∫—Ä–æ—Ñ–æ–Ω)\n */export const isGetUserMediaSupported=()=>{return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia);};/**\n * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è\n * @param {string} permission - –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è ('camera', 'microphone', 'notifications', etc.)\n * @returns {Promise<string>} - 'granted', 'denied', 'prompt', –∏–ª–∏ 'unsupported'\n */export const checkPermission=async permission=>{if(!isPermissionsAPISupported()){console.log(\"Permissions API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è\");return\"unsupported\";}try{const result=await navigator.permissions.query({name:permission});return result.state;}catch(error){console.error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u043F\\u0440\\u043E\\u0432\\u0435\\u0440\\u043A\\u0435 \\u0440\\u0430\\u0437\\u0440\\u0435\\u0448\\u0435\\u043D\\u0438\\u044F \".concat(permission,\":\"),error);return\"unsupported\";}};/**\n * –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ\n * @param {Object} constraints - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –∫–∞–º–µ—Ä—ã\n * @returns {Promise<Object>} - { success: boolean, stream?: MediaStream, error?: string }\n */export const requestCameraAccess=async function(){let constraints=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!isGetUserMediaSupported()){return{success:false,error:\"getUserMedia –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ —ç—Ç–æ–º –±—Ä–∞—É–∑–µ—Ä–µ\"};}const defaultConstraints={video:{facingMode:\"environment\",// –ó–∞–¥–Ω—è—è –∫–∞–º–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\nwidth:{ideal:1280},height:{ideal:720}},audio:false};const finalConstraints=_objectSpread(_objectSpread({},defaultConstraints),constraints);try{const stream=await navigator.mediaDevices.getUserMedia(finalConstraints);return{success:true,stream:stream};}catch(error){let errorMessage=\"–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ\";switch(error.name){case\"NotAllowedError\":errorMessage=\"–î–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ –∑–∞–ø—Ä–µ—â–µ–Ω. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±—Ä–∞—É–∑–µ—Ä–∞.\";break;case\"NotFoundError\":errorMessage=\"–ö–∞–º–µ—Ä–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –Ω–∞ —ç—Ç–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ\";break;case\"NotReadableError\":errorMessage=\"–ö–∞–º–µ—Ä–∞ –∑–∞–Ω—è—Ç–∞ –¥—Ä—É–≥–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º\";break;case\"OverconstrainedError\":errorMessage=\"–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞–º–µ—Ä—ã –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è\";break;case\"SecurityError\":errorMessage=\"–î–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ø–æ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS.\";break;case\"AbortError\":errorMessage=\"–ó–∞–ø—Ä–æ—Å –∫ –∫–∞–º–µ—Ä–µ –±—ã–ª –ø—Ä–µ—Ä–≤–∞–Ω\";break;default:errorMessage=\"–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ\";break;}return{success:false,error:errorMessage};}};/**\n * –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\n * @returns {Promise<string>} - 'granted', 'denied', –∏–ª–∏ 'default'\n */export const requestNotificationPermission=async()=>{if(!(\"Notification\"in window)){console.log(\"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è\");return\"unsupported\";}if(Notification.permission===\"granted\"){return\"granted\";}if(Notification.permission===\"denied\"){return\"denied\";}try{const permission=await Notification.requestPermission();return permission;}catch(error){console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:\",error);return\"denied\";}};/**\n * –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ\n * @returns {Promise<boolean>} - true –µ—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ, false –µ—Å–ª–∏ –Ω–µ—Ç\n */export const requestPersistentStorage=async()=>{if(!(\"storage\"in navigator)||!(\"persist\"in navigator.storage)){console.log(\"Persistent Storage –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è\");return false;}try{const persistent=await navigator.storage.persist();console.log(\"\\u041F\\u043E\\u0441\\u0442\\u043E\\u044F\\u043D\\u043D\\u043E\\u0435 \\u0445\\u0440\\u0430\\u043D\\u0438\\u043B\\u0438\\u0449\\u0435: \".concat(persistent?\"—Ä–∞–∑—Ä–µ—à–µ–Ω–æ\":\"–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ\"));return persistent;}catch(error){console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞:\",error);return false;}};/**\n * –ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–≤–æ—Ç–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞\n * @returns {Promise<Object>} - { quota: number, usage: number, usageDetails?: Object }\n */export const getStorageEstimate=async()=>{if(!(\"storage\"in navigator)||!(\"estimate\"in navigator.storage)){console.log(\"Storage API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è\");return null;}try{const estimate=await navigator.storage.estimate();return{quota:estimate.quota,usage:estimate.usage,usageDetails:estimate.usageDetails};}catch(error){console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:\",error);return null;}};/**\n * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ HTTPS\n * @returns {boolean}\n */export const isHTTPS=()=>{return window.location.protocol===\"https:\"||window.location.hostname===\"localhost\";};/**\n * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è PWA\n * @returns {Promise<Object>} - –û–±—ä–µ–∫—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π\n */export const checkAllPermissions=async()=>{const results={https:isHTTPS(),permissionsAPI:isPermissionsAPISupported(),getUserMedia:isGetUserMediaSupported(),camera:\"unknown\",notifications:Notification.permission,persistentStorage:false,storageEstimate:null};// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã\nif(isPermissionsAPISupported()){try{results.camera=await checkPermission(\"camera\");}catch(error){results.camera=\"unsupported\";}}// –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ\nif(\"storage\"in navigator&&\"persisted\"in navigator.storage){try{results.persistentStorage=await navigator.storage.persisted();}catch(error){results.persistentStorage=false;}}// –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ\nresults.storageEstimate=await getStorageEstimate();return results;};/**\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö\n * @param {Object} permissions - –†–µ–∑—É–ª—å—Ç–∞—Ç checkAllPermissions()\n */export const displayPermissionsInfo=permissions=>{console.group(\"üîê –°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π PWA\");console.log(\"\\uD83D\\uDCE1 HTTPS: \".concat(permissions.https?\"‚úÖ\":\"‚ùå\"));console.log(\"\\uD83D\\uDD27 Permissions API: \".concat(permissions.permissionsAPI?\"‚úÖ\":\"‚ùå\"));console.log(\"\\uD83D\\uDCF7 getUserMedia: \".concat(permissions.getUserMedia?\"‚úÖ\":\"‚ùå\"));console.log(\"\\uD83D\\uDCF8 \\u041A\\u0430\\u043C\\u0435\\u0440\\u0430: \".concat(getPermissionEmoji(permissions.camera),\" \").concat(permissions.camera));console.log(\"\\uD83D\\uDD14 \\u0423\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F: \".concat(getPermissionEmoji(permissions.notifications),\" \").concat(permissions.notifications));console.log(\"\\uD83D\\uDCBE \\u041F\\u043E\\u0441\\u0442\\u043E\\u044F\\u043D\\u043D\\u043E\\u0435 \\u0445\\u0440\\u0430\\u043D\\u0438\\u043B\\u0438\\u0449\\u0435: \".concat(permissions.persistentStorage?\"‚úÖ\":\"‚ùå\"));if(permissions.storageEstimate){const usedMB=Math.round(permissions.storageEstimate.usage/1024/1024);const totalMB=Math.round(permissions.storageEstimate.quota/1024/1024);console.log(\"\\uD83D\\uDCCA \\u0425\\u0440\\u0430\\u043D\\u0438\\u043B\\u0438\\u0449\\u0435: \".concat(usedMB,\"MB / \").concat(totalMB,\"MB\"));}console.groupEnd();};/**\n * –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–º–æ–¥–∑–∏ –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è\n * @param {string} permission - –°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è\n * @returns {string} - –≠–º–æ–¥–∑–∏\n */const getPermissionEmoji=permission=>{switch(permission){case\"granted\":return\"‚úÖ\";case\"denied\":return\"‚ùå\";case\"prompt\":return\"‚ùì\";case\"unsupported\":return\"üö´\";default:return\"‚ùì\";}};","map":{"version":3,"names":["isPermissionsAPISupported","navigator","isGetUserMediaSupported","mediaDevices","getUserMedia","checkPermission","permission","console","log","result","permissions","query","name","state","error","concat","requestCameraAccess","constraints","arguments","length","undefined","success","defaultConstraints","video","facingMode","width","ideal","height","audio","finalConstraints","_objectSpread","stream","errorMessage","requestNotificationPermission","window","Notification","requestPermission","requestPersistentStorage","storage","persistent","persist","getStorageEstimate","estimate","quota","usage","usageDetails","isHTTPS","location","protocol","hostname","checkAllPermissions","results","https","permissionsAPI","camera","notifications","persistentStorage","storageEstimate","persisted","displayPermissionsInfo","group","getPermissionEmoji","usedMB","Math","round","totalMB","groupEnd"],"sources":["/Users/tigrotigro/Projects/Hakaton/pwaexample/src/utils/permissions.js"],"sourcesContent":["// –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ PWA\n\n/**\n * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É Permissions API\n */\nexport const isPermissionsAPISupported = () => {\n  return \"permissions\" in navigator;\n};\n\n/**\n * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É getUserMedia (–∫–∞–º–µ—Ä–∞/–º–∏–∫—Ä–æ—Ñ–æ–Ω)\n */\nexport const isGetUserMediaSupported = () => {\n  return !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia);\n};\n\n/**\n * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è\n * @param {string} permission - –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è ('camera', 'microphone', 'notifications', etc.)\n * @returns {Promise<string>} - 'granted', 'denied', 'prompt', –∏–ª–∏ 'unsupported'\n */\nexport const checkPermission = async (permission) => {\n  if (!isPermissionsAPISupported()) {\n    console.log(\"Permissions API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è\");\n    return \"unsupported\";\n  }\n\n  try {\n    const result = await navigator.permissions.query({ name: permission });\n    return result.state;\n  } catch (error) {\n    console.error(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è ${permission}:`, error);\n    return \"unsupported\";\n  }\n};\n\n/**\n * –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ\n * @param {Object} constraints - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –∫–∞–º–µ—Ä—ã\n * @returns {Promise<Object>} - { success: boolean, stream?: MediaStream, error?: string }\n */\nexport const requestCameraAccess = async (constraints = {}) => {\n  if (!isGetUserMediaSupported()) {\n    return {\n      success: false,\n      error: \"getUserMedia –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ —ç—Ç–æ–º –±—Ä–∞—É–∑–µ—Ä–µ\",\n    };\n  }\n\n  const defaultConstraints = {\n    video: {\n      facingMode: \"environment\", // –ó–∞–¥–Ω—è—è –∫–∞–º–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n      width: { ideal: 1280 },\n      height: { ideal: 720 },\n    },\n    audio: false,\n  };\n\n  const finalConstraints = { ...defaultConstraints, ...constraints };\n\n  try {\n    const stream = await navigator.mediaDevices.getUserMedia(finalConstraints);\n    return {\n      success: true,\n      stream: stream,\n    };\n  } catch (error) {\n    let errorMessage = \"–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ\";\n\n    switch (error.name) {\n      case \"NotAllowedError\":\n        errorMessage =\n          \"–î–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ –∑–∞–ø—Ä–µ—â–µ–Ω. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±—Ä–∞—É–∑–µ—Ä–∞.\";\n        break;\n      case \"NotFoundError\":\n        errorMessage = \"–ö–∞–º–µ—Ä–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –Ω–∞ —ç—Ç–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ\";\n        break;\n      case \"NotReadableError\":\n        errorMessage = \"–ö–∞–º–µ—Ä–∞ –∑–∞–Ω—è—Ç–∞ –¥—Ä—É–≥–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º\";\n        break;\n      case \"OverconstrainedError\":\n        errorMessage = \"–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞–º–µ—Ä—ã –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è\";\n        break;\n      case \"SecurityError\":\n        errorMessage =\n          \"–î–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ø–æ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS.\";\n        break;\n      case \"AbortError\":\n        errorMessage = \"–ó–∞–ø—Ä–æ—Å –∫ –∫–∞–º–µ—Ä–µ –±—ã–ª –ø—Ä–µ—Ä–≤–∞–Ω\";\n        break;\n      default:\n        errorMessage = \"–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ\";\n        break;\n    }\n\n    return {\n      success: false,\n      error: errorMessage,\n    };\n  }\n};\n\n/**\n * –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\n * @returns {Promise<string>} - 'granted', 'denied', –∏–ª–∏ 'default'\n */\nexport const requestNotificationPermission = async () => {\n  if (!(\"Notification\" in window)) {\n    console.log(\"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è\");\n    return \"unsupported\";\n  }\n\n  if (Notification.permission === \"granted\") {\n    return \"granted\";\n  }\n\n  if (Notification.permission === \"denied\") {\n    return \"denied\";\n  }\n\n  try {\n    const permission = await Notification.requestPermission();\n    return permission;\n  } catch (error) {\n    console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:\", error);\n    return \"denied\";\n  }\n};\n\n/**\n * –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ\n * @returns {Promise<boolean>} - true –µ—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ, false –µ—Å–ª–∏ –Ω–µ—Ç\n */\nexport const requestPersistentStorage = async () => {\n  if (!(\"storage\" in navigator) || !(\"persist\" in navigator.storage)) {\n    console.log(\"Persistent Storage –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è\");\n    return false;\n  }\n\n  try {\n    const persistent = await navigator.storage.persist();\n    console.log(\n      `–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ: ${persistent ? \"—Ä–∞–∑—Ä–µ—à–µ–Ω–æ\" : \"–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ\"}`\n    );\n    return persistent;\n  } catch (error) {\n    console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞:\", error);\n    return false;\n  }\n};\n\n/**\n * –ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–≤–æ—Ç–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞\n * @returns {Promise<Object>} - { quota: number, usage: number, usageDetails?: Object }\n */\nexport const getStorageEstimate = async () => {\n  if (!(\"storage\" in navigator) || !(\"estimate\" in navigator.storage)) {\n    console.log(\"Storage API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è\");\n    return null;\n  }\n\n  try {\n    const estimate = await navigator.storage.estimate();\n    return {\n      quota: estimate.quota,\n      usage: estimate.usage,\n      usageDetails: estimate.usageDetails,\n    };\n  } catch (error) {\n    console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:\", error);\n    return null;\n  }\n};\n\n/**\n * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ HTTPS\n * @returns {boolean}\n */\nexport const isHTTPS = () => {\n  return (\n    window.location.protocol === \"https:\" ||\n    window.location.hostname === \"localhost\"\n  );\n};\n\n/**\n * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è PWA\n * @returns {Promise<Object>} - –û–±—ä–µ–∫—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π\n */\nexport const checkAllPermissions = async () => {\n  const results = {\n    https: isHTTPS(),\n    permissionsAPI: isPermissionsAPISupported(),\n    getUserMedia: isGetUserMediaSupported(),\n    camera: \"unknown\",\n    notifications: Notification.permission,\n    persistentStorage: false,\n    storageEstimate: null,\n  };\n\n  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã\n  if (isPermissionsAPISupported()) {\n    try {\n      results.camera = await checkPermission(\"camera\");\n    } catch (error) {\n      results.camera = \"unsupported\";\n    }\n  }\n\n  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ\n  if (\"storage\" in navigator && \"persisted\" in navigator.storage) {\n    try {\n      results.persistentStorage = await navigator.storage.persisted();\n    } catch (error) {\n      results.persistentStorage = false;\n    }\n  }\n\n  // –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ\n  results.storageEstimate = await getStorageEstimate();\n\n  return results;\n};\n\n/**\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö\n * @param {Object} permissions - –†–µ–∑—É–ª—å—Ç–∞—Ç checkAllPermissions()\n */\nexport const displayPermissionsInfo = (permissions) => {\n  console.group(\"üîê –°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π PWA\");\n\n  console.log(`üì° HTTPS: ${permissions.https ? \"‚úÖ\" : \"‚ùå\"}`);\n  console.log(\n    `üîß Permissions API: ${permissions.permissionsAPI ? \"‚úÖ\" : \"‚ùå\"}`\n  );\n  console.log(`üì∑ getUserMedia: ${permissions.getUserMedia ? \"‚úÖ\" : \"‚ùå\"}`);\n  console.log(\n    `üì∏ –ö–∞–º–µ—Ä–∞: ${getPermissionEmoji(permissions.camera)} ${permissions.camera}`\n  );\n  console.log(\n    `üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: ${getPermissionEmoji(permissions.notifications)} ${\n      permissions.notifications\n    }`\n  );\n  console.log(\n    `üíæ –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ: ${permissions.persistentStorage ? \"‚úÖ\" : \"‚ùå\"}`\n  );\n\n  if (permissions.storageEstimate) {\n    const usedMB = Math.round(permissions.storageEstimate.usage / 1024 / 1024);\n    const totalMB = Math.round(permissions.storageEstimate.quota / 1024 / 1024);\n    console.log(`üìä –•—Ä–∞–Ω–∏–ª–∏—â–µ: ${usedMB}MB / ${totalMB}MB`);\n  }\n\n  console.groupEnd();\n};\n\n/**\n * –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–º–æ–¥–∑–∏ –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è\n * @param {string} permission - –°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è\n * @returns {string} - –≠–º–æ–¥–∑–∏\n */\nconst getPermissionEmoji = (permission) => {\n  switch (permission) {\n    case \"granted\":\n      return \"‚úÖ\";\n    case \"denied\":\n      return \"‚ùå\";\n    case \"prompt\":\n      return \"‚ùì\";\n    case \"unsupported\":\n      return \"üö´\";\n    default:\n      return \"‚ùì\";\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}