{"ast":null,"code":"var _jsxFileName = \"/Users/tigrotigro/Projects/Hakaton/PWA example/src/components/PhotoUploader.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useState, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PhotoUploader = ({\n  onPhotoUpload\n}) => {\n  _s();\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [isCapturing, setIsCapturing] = useState(false);\n  const fileInputRef = useRef(null);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const streamRef = useRef(null);\n  const handleFileSelect = useCallback(async files => {\n    if (!files || files.length === 0) return;\n    setIsUploading(true);\n    try {\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n\n        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ\n        if (!file.type.startsWith('image/')) {\n          alert(`–§–∞–π–ª ${file.name} –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º`);\n          continue;\n        }\n\n        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–º–∞–∫—Å–∏–º—É–º 10MB)\n        if (file.size > 10 * 1024 * 1024) {\n          alert(`–§–∞–π–ª ${file.name} —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π (–º–∞–∫—Å–∏–º—É–º 10MB)`);\n          continue;\n        }\n        await onPhotoUpload(file);\n      }\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤:', error);\n      alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–æ–≤');\n    } finally {\n      setIsUploading(false);\n    }\n  }, [onPhotoUpload]);\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    setIsDragOver(false);\n    const files = Array.from(e.dataTransfer.files);\n    handleFileSelect(files);\n  }, [handleFileSelect]);\n  const handleDragOver = useCallback(e => {\n    e.preventDefault();\n    setIsDragOver(true);\n  }, []);\n  const handleDragLeave = useCallback(e => {\n    e.preventDefault();\n    setIsDragOver(false);\n  }, []);\n  const handleFileInputChange = useCallback(e => {\n    const files = Array.from(e.target.files);\n    handleFileSelect(files);\n    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º input –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ —Ç–æ–≥–æ –∂–µ —Ñ–∞–π–ª–∞\n    e.target.value = '';\n  }, [handleFileSelect]);\n  const handleButtonClick = useCallback(() => {\n    document.getElementById('file-input').click();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `upload-area ${isDragOver ? 'dragover' : ''}`,\n    onDrop: handleDrop,\n    onDragOver: handleDragOver,\n    onDragLeave: handleDragLeave,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"file-input\",\n      type: \"file\",\n      multiple: true,\n      accept: \"image/*\",\n      onChange: handleFileInputChange,\n      className: \"upload-input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uD83D\\uDCF7 \\u041F\\u0435\\u0440\\u0435\\u0442\\u0430\\u0449\\u0438\\u0442\\u0435 \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u0438 \\u0441\\u044E\\u0434\\u0430 \\u0438\\u043B\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"upload-button\",\n        onClick: handleButtonClick,\n        disabled: isUploading,\n        children: isUploading ? '–ó–∞–≥—Ä—É–∑–∫–∞...' : '–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª—ã'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginTop: '10px',\n        fontSize: '14px',\n        color: '#666'\n      },\n      children: \"\\u041F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u0438\\u0432\\u0430\\u044E\\u0442\\u0441\\u044F \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u044B: JPG, PNG, GIF, WebP\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(PhotoUploader, \"ynT8X8v3L6AYq1Ia3x6ZLl6rvqE=\");\n_c = PhotoUploader;\nexport default PhotoUploader;\nvar _c;\n$RefreshReg$(_c, \"PhotoUploader\");","map":{"version":3,"names":["React","useCallback","useState","useRef","jsxDEV","_jsxDEV","PhotoUploader","onPhotoUpload","_s","isDragOver","setIsDragOver","isUploading","setIsUploading","isCapturing","setIsCapturing","fileInputRef","videoRef","canvasRef","streamRef","handleFileSelect","files","length","i","file","type","startsWith","alert","name","size","error","console","handleDrop","e","preventDefault","Array","from","dataTransfer","handleDragOver","handleDragLeave","handleFileInputChange","target","value","handleButtonClick","document","getElementById","click","className","onDrop","onDragOver","onDragLeave","children","id","multiple","accept","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","style","marginTop","fontSize","color","_c","$RefreshReg$"],"sources":["/Users/tigrotigro/Projects/Hakaton/PWA example/src/components/PhotoUploader.js"],"sourcesContent":["import React, { useCallback, useState, useRef } from 'react';\n\nconst PhotoUploader = ({ onPhotoUpload }) => {\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [isCapturing, setIsCapturing] = useState(false);\n  const fileInputRef = useRef(null);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const streamRef = useRef(null);\n\n  const handleFileSelect = useCallback(async (files) => {\n    if (!files || files.length === 0) return;\n\n    setIsUploading(true);\n    try {\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        \n        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ\n        if (!file.type.startsWith('image/')) {\n          alert(`–§–∞–π–ª ${file.name} –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º`);\n          continue;\n        }\n\n        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–º–∞–∫—Å–∏–º—É–º 10MB)\n        if (file.size > 10 * 1024 * 1024) {\n          alert(`–§–∞–π–ª ${file.name} —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π (–º–∞–∫—Å–∏–º—É–º 10MB)`);\n          continue;\n        }\n\n        await onPhotoUpload(file);\n      }\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤:', error);\n      alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–æ–≤');\n    } finally {\n      setIsUploading(false);\n    }\n  }, [onPhotoUpload]);\n\n  const handleDrop = useCallback((e) => {\n    e.preventDefault();\n    setIsDragOver(false);\n    const files = Array.from(e.dataTransfer.files);\n    handleFileSelect(files);\n  }, [handleFileSelect]);\n\n  const handleDragOver = useCallback((e) => {\n    e.preventDefault();\n    setIsDragOver(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e) => {\n    e.preventDefault();\n    setIsDragOver(false);\n  }, []);\n\n  const handleFileInputChange = useCallback((e) => {\n    const files = Array.from(e.target.files);\n    handleFileSelect(files);\n    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º input –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ —Ç–æ–≥–æ –∂–µ —Ñ–∞–π–ª–∞\n    e.target.value = '';\n  }, [handleFileSelect]);\n\n  const handleButtonClick = useCallback(() => {\n    document.getElementById('file-input').click();\n  }, []);\n\n  return (\n    <div\n      className={`upload-area ${isDragOver ? 'dragover' : ''}`}\n      onDrop={handleDrop}\n      onDragOver={handleDragOver}\n      onDragLeave={handleDragLeave}\n    >\n      <input\n        id=\"file-input\"\n        type=\"file\"\n        multiple\n        accept=\"image/*\"\n        onChange={handleFileInputChange}\n        className=\"upload-input\"\n      />\n      \n      <div>\n        <p>üì∑ –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å—é–¥–∞ –∏–ª–∏</p>\n        <button\n          className=\"upload-button\"\n          onClick={handleButtonClick}\n          disabled={isUploading}\n        >\n          {isUploading ? '–ó–∞–≥—Ä—É–∑–∫–∞...' : '–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª—ã'}\n        </button>\n      </div>\n      \n      <p style={{ marginTop: '10px', fontSize: '14px', color: '#666' }}>\n        –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã: JPG, PNG, GIF, WebP\n      </p>\n    </div>\n  );\n};\n\nexport default PhotoUploader;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}