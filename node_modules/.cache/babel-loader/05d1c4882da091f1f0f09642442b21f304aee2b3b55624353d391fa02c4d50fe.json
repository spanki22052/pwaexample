{"ast":null,"code":"import _objectSpread from\"/Users/tigrotigro/Projects/Hakaton/pwaexample/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useMemo,useCallback,useEffect,memo,useRef}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PhotoGrid=_ref=>{let{photos,onRetryUpload,onDeletePhoto,isOnline}=_ref;const urlCacheRef=useRef(new Map());// –°–æ–∑–¥–∞–µ–º URL –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∏ –∫—ç—à–∏—Ä—É–µ–º –∏—Ö\nconst photosWithUrls=useMemo(()=>{const urlCache=urlCacheRef.current;return photos.map(photo=>{// –ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π URL, –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ\nif(photo.url&&photo.status===\"uploaded\"){return photo;}// –î–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–µ–º blob URL\nif(photo.file&&!photo.url){// –°–æ–∑–¥–∞–µ–º URL —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç –≤ –∫—ç—à–µ\nif(!urlCache.has(photo.id)){urlCache.set(photo.id,URL.createObjectURL(photo.file));}return _objectSpread(_objectSpread({},photo),{},{url:urlCache.get(photo.id)});}return photo;});},[photos]);// –û—á–∏—â–∞–µ–º –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ URL\nuseEffect(()=>{const urlCache=urlCacheRef.current;const currentPhotoIds=new Set(photos.map(p=>p.id));// –£–¥–∞–ª—è–µ–º URL –¥–ª—è —Ñ–æ—Ç–æ, –∫–æ—Ç–æ—Ä—ã—Ö –±–æ–ª—å—à–µ –Ω–µ—Ç\nfor(const[photoId,url]of urlCache.entries()){if(!currentPhotoIds.has(photoId)){URL.revokeObjectURL(url);urlCache.delete(photoId);}}// Cleanup –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏\nreturn()=>{for(const[,url]of urlCache.entries()){URL.revokeObjectURL(url);}urlCache.clear();};},[photos]);const handleRetryUpload=useCallback(photoId=>{onRetryUpload(photoId);},[onRetryUpload]);const handleDeletePhoto=useCallback(photoId=>{if(window.confirm(\"–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é?\")){onDeletePhoto(photoId);}},[onDeletePhoto]);// –ú–µ–º–æ–∏–∑–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤\nconst getStatusText=useCallback(status=>{switch(status){case\"pending\":return\"–û–∂–∏–¥–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏\";case\"uploading\":return\"–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...\";case\"uploaded\":return\"–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ\";case\"error\":return\"–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏\";default:return\"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ\";}},[]);const getStatusClass=useCallback(status=>{switch(status){case\"pending\":return\"status-pending\";case\"uploading\":return\"status-uploading\";case\"uploaded\":return\"status-uploaded\";case\"error\":return\"status-error\";default:return\"status-pending\";}},[]);const formatFileSize=useCallback(bytes=>{if(bytes===0)return\"0 Bytes\";const k=1024;const sizes=[\"Bytes\",\"KB\",\"MB\",\"GB\"];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(2))+\" \"+sizes[i];},[]);const formatDate=useCallback(dateString=>{const date=new Date(dateString);return date.toLocaleString(\"ru-RU\");},[]);if(photos.length===0){return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",padding:\"40px\",color:\"#666\"},children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCF7 \\u041F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0436\\u0435\\u043D\\u043D\\u044B\\u0445 \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u0439\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0432\\u0443\\u044E \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044E, \\u043F\\u0435\\u0440\\u0435\\u0442\\u0430\\u0449\\u0438\\u0432 \\u0444\\u0430\\u0439\\u043B \\u0432 \\u043E\\u0431\\u043B\\u0430\\u0441\\u0442\\u044C \\u0432\\u044B\\u0448\\u0435\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"photo-grid\",children:photosWithUrls.map(photo=>/*#__PURE__*/_jsx(PhotoItem,{photo:photo,onRetryUpload:handleRetryUpload,onDeletePhoto:handleDeletePhoto,isOnline:isOnline,getStatusText:getStatusText,getStatusClass:getStatusClass,formatFileSize:formatFileSize,formatDate:formatDate},photo.id))});};// –ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏\nconst PhotoItem=/*#__PURE__*/memo(_ref2=>{let{photo,onRetryUpload,onDeletePhoto,isOnline,getStatusText,getStatusClass,formatFileSize,formatDate}=_ref2;const handleRetryClick=useCallback(()=>{onRetryUpload(photo.id);},[onRetryUpload,photo.id]);const handleDeleteClick=useCallback(()=>{onDeletePhoto(photo.id);},[onDeletePhoto,photo.id]);const handleImageError=useCallback(e=>{console.error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F: \".concat(e.target.src));e.target.src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pjwvc3ZnPg==\";},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"photo-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:photo.url,alt:photo.name,onError:handleImageError,loading:\"lazy\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"photo-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"photo-name\",title:photo.name,children:photo.name}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:\"12px\",color:\"#666\",marginBottom:\"8px\"},children:[formatFileSize(photo.size),\" \\u2022 \",formatDate(photo.createdAt)]}),/*#__PURE__*/_jsx(\"div\",{className:\"photo-status \".concat(getStatusClass(photo.status)),children:getStatusText(photo.status)}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"8px\",marginTop:\"8px\"},children:[photo.status===\"error\"&&isOnline&&/*#__PURE__*/_jsx(\"button\",{className:\"retry-button\",onClick:handleRetryClick,title:\"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u044C \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043A\\u0443\",children:\"\\uD83D\\uDD04 \\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-button\",onClick:handleDeleteClick,title:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044E\",style:{backgroundColor:\"#dc3545\",color:\"white\",border:\"none\",borderRadius:\"4px\",padding:\"6px 12px\",fontSize:\"12px\",cursor:\"pointer\",flex:\"1\"},children:\"\\uD83D\\uDDD1\\uFE0F \\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})]}),photo.status===\"pending\"&&!isOnline&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"12px\",color:\"#856404\",marginTop:\"5px\"},children:\"\\u23F3 \\u041E\\u0436\\u0438\\u0434\\u0430\\u0435\\u0442 \\u0438\\u043D\\u0442\\u0435\\u0440\\u043D\\u0435\\u0442\\u0430\"}),photo.status===\"uploading\"&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"12px\",color:\"#007bff\",marginTop:\"5px\"},children:\"\\uD83D\\uDCE4 \\u0417\\u0430\\u0433\\u0440\\u0443\\u0436\\u0430\\u0435\\u0442\\u0441\\u044F...\"})]})]});});export default PhotoGrid;","map":{"version":3,"names":["React","useMemo","useCallback","useEffect","memo","useRef","jsx","_jsx","jsxs","_jsxs","PhotoGrid","_ref","photos","onRetryUpload","onDeletePhoto","isOnline","urlCacheRef","Map","photosWithUrls","urlCache","current","map","photo","url","status","file","has","id","set","URL","createObjectURL","_objectSpread","get","currentPhotoIds","Set","p","photoId","entries","revokeObjectURL","delete","clear","handleRetryUpload","handleDeletePhoto","window","confirm","getStatusText","getStatusClass","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","formatDate","dateString","date","Date","toLocaleString","length","style","textAlign","padding","color","children","className","PhotoItem","_ref2","handleRetryClick","handleDeleteClick","handleImageError","e","console","error","concat","target","src","alt","name","onError","loading","title","fontSize","marginBottom","size","createdAt","display","gap","marginTop","onClick","backgroundColor","border","borderRadius","cursor","flex"],"sources":["/Users/tigrotigro/Projects/Hakaton/pwaexample/src/components/PhotoGrid.js"],"sourcesContent":["import React, { useMemo, useCallback, useEffect, memo, useRef } from \"react\";\n\nconst PhotoGrid = ({ photos, onRetryUpload, onDeletePhoto, isOnline }) => {\n  const urlCacheRef = useRef(new Map());\n\n  // –°–æ–∑–¥–∞–µ–º URL –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∏ –∫—ç—à–∏—Ä—É–µ–º –∏—Ö\n  const photosWithUrls = useMemo(() => {\n    const urlCache = urlCacheRef.current;\n\n    return photos.map((photo) => {\n      // –ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π URL, –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ\n      if (photo.url && photo.status === \"uploaded\") {\n        return photo;\n      }\n\n      // –î–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–µ–º blob URL\n      if (photo.file && !photo.url) {\n        // –°–æ–∑–¥–∞–µ–º URL —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç –≤ –∫—ç—à–µ\n        if (!urlCache.has(photo.id)) {\n          urlCache.set(photo.id, URL.createObjectURL(photo.file));\n        }\n        return {\n          ...photo,\n          url: urlCache.get(photo.id),\n        };\n      }\n\n      return photo;\n    });\n  }, [photos]);\n\n  // –û—á–∏—â–∞–µ–º –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ URL\n  useEffect(() => {\n    const urlCache = urlCacheRef.current;\n    const currentPhotoIds = new Set(photos.map((p) => p.id));\n\n    // –£–¥–∞–ª—è–µ–º URL –¥–ª—è —Ñ–æ—Ç–æ, –∫–æ—Ç–æ—Ä—ã—Ö –±–æ–ª—å—à–µ –Ω–µ—Ç\n    for (const [photoId, url] of urlCache.entries()) {\n      if (!currentPhotoIds.has(photoId)) {\n        URL.revokeObjectURL(url);\n        urlCache.delete(photoId);\n      }\n    }\n\n    // Cleanup –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏\n    return () => {\n      for (const [, url] of urlCache.entries()) {\n        URL.revokeObjectURL(url);\n      }\n      urlCache.clear();\n    };\n  }, [photos]);\n\n  const handleRetryUpload = useCallback(\n    (photoId) => {\n      onRetryUpload(photoId);\n    },\n    [onRetryUpload]\n  );\n\n  const handleDeletePhoto = useCallback(\n    (photoId) => {\n      if (window.confirm(\"–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é?\")) {\n        onDeletePhoto(photoId);\n      }\n    },\n    [onDeletePhoto]\n  );\n\n  // –ú–µ–º–æ–∏–∑–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤\n  const getStatusText = useCallback((status) => {\n    switch (status) {\n      case \"pending\":\n        return \"–û–∂–∏–¥–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏\";\n      case \"uploading\":\n        return \"–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...\";\n      case \"uploaded\":\n        return \"–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ\";\n      case \"error\":\n        return \"–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏\";\n      default:\n        return \"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ\";\n    }\n  }, []);\n\n  const getStatusClass = useCallback((status) => {\n    switch (status) {\n      case \"pending\":\n        return \"status-pending\";\n      case \"uploading\":\n        return \"status-uploading\";\n      case \"uploaded\":\n        return \"status-uploaded\";\n      case \"error\":\n        return \"status-error\";\n      default:\n        return \"status-pending\";\n    }\n  }, []);\n\n  const formatFileSize = useCallback((bytes) => {\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n  }, []);\n\n  const formatDate = useCallback((dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleString(\"ru-RU\");\n  }, []);\n\n  if (photos.length === 0) {\n    return (\n      <div style={{ textAlign: \"center\", padding: \"40px\", color: \"#666\" }}>\n        <p>üì∑ –ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π</p>\n        <p>–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é, –ø–µ—Ä–µ—Ç–∞—â–∏–≤ —Ñ–∞–π–ª –≤ –æ–±–ª–∞—Å—Ç—å –≤—ã—à–µ</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"photo-grid\">\n      {photosWithUrls.map((photo) => (\n        <PhotoItem\n          key={photo.id}\n          photo={photo}\n          onRetryUpload={handleRetryUpload}\n          onDeletePhoto={handleDeletePhoto}\n          isOnline={isOnline}\n          getStatusText={getStatusText}\n          getStatusClass={getStatusClass}\n          formatFileSize={formatFileSize}\n          formatDate={formatDate}\n        />\n      ))}\n    </div>\n  );\n};\n\n// –ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏\nconst PhotoItem = memo(\n  ({\n    photo,\n    onRetryUpload,\n    onDeletePhoto,\n    isOnline,\n    getStatusText,\n    getStatusClass,\n    formatFileSize,\n    formatDate,\n  }) => {\n    const handleRetryClick = useCallback(() => {\n      onRetryUpload(photo.id);\n    }, [onRetryUpload, photo.id]);\n\n    const handleDeleteClick = useCallback(() => {\n      onDeletePhoto(photo.id);\n    }, [onDeletePhoto, photo.id]);\n\n    const handleImageError = useCallback((e) => {\n      console.error(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: ${e.target.src}`);\n      e.target.src =\n        \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pjwvc3ZnPg==\";\n    }, []);\n\n    return (\n      <div className=\"photo-item\">\n        <img\n          src={photo.url}\n          alt={photo.name}\n          onError={handleImageError}\n          loading=\"lazy\"\n        />\n        <div className=\"photo-info\">\n          <div className=\"photo-name\" title={photo.name}>\n            {photo.name}\n          </div>\n          <div style={{ fontSize: \"12px\", color: \"#666\", marginBottom: \"8px\" }}>\n            {formatFileSize(photo.size)} ‚Ä¢ {formatDate(photo.createdAt)}\n          </div>\n          <div className={`photo-status ${getStatusClass(photo.status)}`}>\n            {getStatusText(photo.status)}\n          </div>\n          <div style={{ display: \"flex\", gap: \"8px\", marginTop: \"8px\" }}>\n            {photo.status === \"error\" && isOnline && (\n              <button\n                className=\"retry-button\"\n                onClick={handleRetryClick}\n                title=\"–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É\"\n              >\n                üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å\n              </button>\n            )}\n            <button\n              className=\"delete-button\"\n              onClick={handleDeleteClick}\n              title=\"–£–¥–∞–ª–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é\"\n              style={{\n                backgroundColor: \"#dc3545\",\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"4px\",\n                padding: \"6px 12px\",\n                fontSize: \"12px\",\n                cursor: \"pointer\",\n                flex: \"1\",\n              }}\n            >\n              üóëÔ∏è –£–¥–∞–ª–∏—Ç—å\n            </button>\n          </div>\n          {photo.status === \"pending\" && !isOnline && (\n            <div\n              style={{ fontSize: \"12px\", color: \"#856404\", marginTop: \"5px\" }}\n            >\n              ‚è≥ –û–∂–∏–¥–∞–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞\n            </div>\n          )}\n          {photo.status === \"uploading\" && (\n            <div\n              style={{ fontSize: \"12px\", color: \"#007bff\", marginTop: \"5px\" }}\n            >\n              üì§ –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n);\n\nexport default PhotoGrid;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}